drop database IF exists IMDB;

create database IMDB;

use IMDB;

create table movie(
    id int primary key auto_increment,
    title varchar(80) not null,
    original_title Varchar(80) NOT NULL,
    overview Varchar(500) NOT NULL,
    vote_average DOUBLE ,
    vote_count int,
    original_language Varchar(10) NOT NULL,
	backdrop_path Varchar(25),
    release_date Varchar(30) NOT NULL,
    adult boolean NOT NULL,
    video boolean NOT NULL,
    poster_path Varchar(30) NOT NULL);
    
create table company(
    id int primary key auto_increment,
    name varchar(50) not null,
    address varchar(180) not null);
  
create table location(
   id int primary key auto_increment,
   streetnumber int not null,
   street varchar(120) not null,
   country varchar (50) not null,
   city varchar(60) not null);
   
   
create table user(
   id int primary key auto_increment,
   username varchar (80) not null,
   password varchar(80) not null,
   email varchar(80) not null,
   isAdmin boolean not null);
   
create table movie_company(
   id int primary key auto_increment,
   movieID int not null,
   productionCompanyID int not null,
   FOREIGN KEY (movieID) REFERENCES movie(id),
   FOREIGN KEY (productionCompanyID) REFERENCES company(id));
 
 create table movie_location(
    id int primary key auto_increment,
    movieID int not null,
    FilmingLocationID int not null,
	year varchar(50) not null,
    FOREIGN KEY (movieID) REFERENCES movie(id),
    FOREIGN KEY (FilmingLocationID) REFERENCES location(id));
    
create table  movie_user(
    id int primary key auto_increment,
    movieID int not null,
    userID int not null,
    rating double not null,
    FOREIGN KEY (movieID) REFERENCES movie(id),
    FOREIGN KEY (userID) REFERENCES user(id));

